# F0.8: Configure Playwright

**Sprint:** 0
**Type:** Frontend - Setup
**Priority:** Medium
**Status:** Completed
**Branch:** feature/sprint0-F0.8-playwright
**Created:** 2026-02-05
**Dependencies:** F0.1 (Next.js Setup)

---

## Description

Setup Playwright for end-to-end (E2E) testing. Configure the test runner with proper settings for Next.js, create a basic test structure, and add an example test that verifies the homepage loads correctly.

---

## Acceptance Criteria

- [x] Playwright installed with dependencies
- [x] playwright.config.ts configured for Next.js
- [x] E2E test directory structure created
- [x] Example E2E test for homepage
- [x] NPM scripts for running E2E tests
- [x] .gitignore updated for Playwright artifacts

---

## Files to Create/Modify

| File | Purpose |
|------|---------|
| `frontend/playwright.config.ts` | Playwright configuration |
| `frontend/e2e/home.spec.ts` | Example E2E test |
| `frontend/package.json` | Add E2E scripts |
| `frontend/.gitignore` | Ignore Playwright artifacts |

---

## Implementation Steps

### Step 1: Install Playwright
1. Install @playwright/test
2. Install browsers (chromium only for dev speed)

### Step 2: Configure Playwright
1. Create playwright.config.ts with:
   - baseURL pointing to Next.js dev server
   - webServer config to auto-start Next.js
   - Test directory set to e2e/
   - Single browser (chromium) for CI speed

### Step 3: Create Test Structure
1. Create e2e/ directory
2. Create example test for homepage

### Step 4: Add NPM Scripts
1. `e2e` - Run E2E tests
2. `e2e:ui` - Run with Playwright UI

### Step 5: Update .gitignore
1. Add playwright-report/
2. Add test-results/

---

## Configuration Pattern

```typescript
// playwright.config.ts
import { defineConfig, devices } from '@playwright/test';

export default defineConfig({
  testDir: './e2e',
  fullyParallel: true,
  forbidOnly: !!process.env.CI,
  retries: process.env.CI ? 2 : 0,
  workers: process.env.CI ? 1 : undefined,
  reporter: 'html',
  use: {
    baseURL: 'http://localhost:3000',
    trace: 'on-first-retry',
  },
  projects: [
    {
      name: 'chromium',
      use: { ...devices['Desktop Chrome'] },
    },
  ],
  webServer: {
    command: 'npm run dev',
    url: 'http://localhost:3000',
    reuseExistingServer: !process.env.CI,
  },
});
```

---

## Definition of Done

- [x] Playwright installed
- [x] Configuration created
- [x] Example test passes (3 tests)
- [x] NPM scripts work
- [x] Production build succeeds

---

*Ticket created: 2026-02-05*
