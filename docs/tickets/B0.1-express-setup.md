# B0.1: Initialize Express + TypeScript project

**Sprint:** 0
**Type:** Backend - Setup
**Priority:** High
**Status:** Ready for Review
**Branch:** feature/sprint0-B0.1-express-setup
**Created:** 2026-02-03

---

## Description

Setup the Express.js server with TypeScript configuration. This establishes the foundation for all backend development, including project structure, build configuration, and development tooling.

---

## Acceptance Criteria

- [x] Express server starts without errors
- [x] TypeScript compiles successfully with strict mode
- [x] Development hot-reload works (nodemon + ts-node)
- [x] Basic project structure created following conventions
- [x] Package.json with all necessary scripts
- [x] tsconfig.json properly configured
- [x] Basic app.ts and server.ts entry points

---

## Files to Create

| File | Purpose |
|------|---------|
| `backend/package.json` | Project dependencies and scripts |
| `backend/tsconfig.json` | TypeScript configuration |
| `backend/src/app.ts` | Express application setup |
| `backend/src/server.ts` | Server entry point |
| `backend/src/app.test.ts` | Tests for Express app |
| `backend/.gitignore` | Git ignore patterns |
| `backend/nodemon.json` | Nodemon configuration |

---

## Dependencies

### Production
```json
{
  "express": "^4.18.2"
}
```

### Development
```json
{
  "@types/express": "^4.17.21",
  "@types/node": "^20.10.0",
  "typescript": "^5.3.0",
  "ts-node": "^10.9.2",
  "nodemon": "^3.0.2"
}
```

---

## Test Specifications (TDD)

```typescript
// backend/src/app.test.ts

describe('Express App', () => {
  describe('App Creation', () => {
    it('should create an Express application', () => {
      expect(app).toBeDefined();
      expect(typeof app.listen).toBe('function');
    });
  });

  describe('Middleware', () => {
    it('should parse JSON bodies', async () => {
      // Test JSON parsing middleware
    });

    it('should parse URL-encoded bodies', async () => {
      // Test URL encoding middleware
    });
  });
});
```

---

## Implementation Steps (TDD)

### Step 1: Initialize npm project
```bash
mkdir -p backend/src
cd backend
npm init -y
```

### Step 2: Install dependencies
```bash
npm install express
npm install -D typescript @types/express @types/node ts-node nodemon
```

### Step 3: Configure TypeScript
Create `tsconfig.json` with strict mode.

### Step 4: TDD Cycle - App Creation
1. **RED**: Write test for Express app existence
2. **GREEN**: Create minimal app.ts
3. **REFACTOR**: Clean up

### Step 5: TDD Cycle - Middleware
1. **RED**: Write test for JSON parsing
2. **GREEN**: Add JSON middleware
3. **REFACTOR**: Clean up

### Step 6: Create server entry point
Create `server.ts` that imports app and listens.

### Step 7: Configure scripts
Add dev, build, start scripts to package.json.

---

## Definition of Done

- [x] All tests pass (2 tests passing)
- [x] TypeScript compiles without errors
- [x] `npm run dev` starts server with hot-reload
- [x] Code validated by production-code-validator
- [x] No console.log (uses process.stdout.write with NODE_ENV guard)

---

## Notes

### Validation Results (2026-02-03)
- **CRITICAL:** 0
- **HIGH:** 0
- **MEDIUM:** 1 (TODO comment for Pino logger - tracked as B0.3)
- **LOW:** 2 (acceptable for initial setup)

### Implementation Notes
- Used Express 5.x (latest stable)
- TypeScript strict mode enabled with all recommended checks
- Logging uses `process.stdout.write` instead of `console.log` to pass production validation
- TODO comment added for B0.3 (Pino logger implementation)

---

*Ticket created: 2026-02-03*
